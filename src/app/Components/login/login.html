<header class="header">
  <div class="container">
    <nav class="navbar">
      <div class="logo">
        <img src="assets/images/logo_icon.jpg" alt="Grafana AutoBuilder" class="app-logo" />
        <span>Grafana AutoBuilder</span>
      </div>
      <button class="back-btn" (click)="onBack()">‚Üê Back to Home</button>
    </nav>
  </div>
</header>

<main class="login-main">
  <div class="container">
    <div class="login-container">
      <div class="login-card">
        <div class="login-header">
          <div class="login-logo">
            <img src="assets/images/logo_icon.jpg" alt="Grafana AutoBuilder" class="app-logo" />
          </div>
          <h1>Welcome Back</h1>
          <p class="login-subtitle">
            Sign in to your Grafana AutoBuilder account
          </p>
        </div>

        <form class="login-form" (ngSubmit)="onSubmit()" #loginForm="ngForm">
          <div class="form-group">
            <label for="email">Email Address</label>
            <input
              type="email"
              id="email"
              name="email"
              [(ngModel)]="email"
              required
              email
              placeholder="Enter your email"
              class="form-input"
              #emailInput="ngModel"
            />
            <div
              class="error-message"
              *ngIf="emailInput.invalid && emailInput.touched"
            >
              <span *ngIf="emailInput.errors?.['required']"
                >Email is required</span
              >
              <span *ngIf="emailInput.errors?.['email']"
                >Please enter a valid email</span
              >
            </div>
          </div>

          <div class="form-group">
            <label for="password">Password</label>
            <div class="password-input-wrapper">
              <input
                [type]="showPassword ? 'text' : 'password'"
                id="password"
                name="password"
                [(ngModel)]="password"
                required
                minlength="6"
                placeholder="Enter your password"
                class="form-input"
                #passwordInput="ngModel"
              />
              <button
                type="button"
                class="password-toggle"
                (click)="togglePassword()"
              >
                <svg
                  *ngIf="!showPassword"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"
                  />
                </svg>
                <svg
                  *ngIf="showPassword"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"
                  />
                </svg>
              </button>
            </div>
            <div
              class="error-message"
              *ngIf="passwordInput.invalid && passwordInput.touched"
            >
              <span *ngIf="passwordInput.errors?.['required']"
                >Password is required</span
              >
              <span *ngIf="passwordInput.errors?.['minlength']"
                >Password must be at least 6 characters</span
              >
            </div>
          </div>

          <div class="form-options">
            <label class="checkbox-label">
              <input
                type="checkbox"
                [(ngModel)]="rememberMe"
                name="rememberMe"
              />
              <span class="checkmark"></span>
              Remember me
            </label>
            <a routerLink="/forgot-password" class="forgot-password">Forgot password?</a>
          </div>

          <button
            type="submit"
            class="login-btn"
            [disabled]="loginForm.invalid || isLoading"
          >
            <span *ngIf="!isLoading">Login</span>
            <span *ngIf="isLoading" class="loading-spinner">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 16c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"
                  opacity="0.3"
                />
                <path d="M12 2C6.48 2 2 6.48 2 12h2c0-4.41 3.59-8 8-8V2z" />
              </svg>
              Signing in...
            </span>
          </button>

          <div class="error-message" *ngIf="loginError">
            {{ loginError }}
          </div>
        </form>

        <div class="login-footer">
          <!-- <a routerLink="/signup">Sign Up</a> -->
          <p>
            Don't have an account?
            <a routerLink="/signup" class="signup-link">Sign up here</a>
          </p>
          <p>
            Need help? <a routerLink="/documentation" class="docs-link">Read the Documentation</a>
          </p>
        </div>
      </div>

      <div class="login-features">
        <h3>Why Choose Grafana AutoBuilder?</h3>
        <div class="feature-list">
          <div class="feature-item">
            <div class="feature-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6zm10-10H8V8h8v2zm-2 4H8v-2h6v2zm4 4H8v-2h10v2z"
                />
              </svg>
            </div>
            <div>
              <h4>Instant Dashboard Creation</h4>
              <p>
                Transform CSV files into beautiful Grafana dashboards in seconds
              </p>
            </div>
          </div>

          <div class="feature-item">
            <div class="feature-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"
                />
              </svg>
            </div>
            <div>
              <h4>Secure & Reliable</h4>
              <p>Enterprise-grade security with PostgreSQL backend</p>
            </div>
          </div>

          <div class="feature-item">
            <div class="feature-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l6 4.5-6 4.5z"
                />
              </svg>
            </div>
            <div>
              <h4>Seamless Integration</h4>
              <p>Direct integration with Grafana API for real-time updates</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<app-footer></app-footer>
